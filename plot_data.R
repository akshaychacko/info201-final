data <- data.table(fread("data/pollution_us_2000_2016.csv", stringsAsFactors=FALSE))
names(data)[names(data) == "Date Local"] = "Date"

data_00 <- subset(data, format(as.Date(Date),"%Y") == 2000)
NO2_00 <- (mean(data_00[["NO2 Mean"]]))
O3_00 <- mean(data_00[["O3 Mean"]])
SO2_00 <- mean(data_00[["SO2 Mean"]])
CO_00 <- mean(data_00[["CO Mean"]])

data_01 <- subset(data, format(as.Date(Date),"%Y") == 2001)
NO2_01 <- (mean(data_01[["NO2 Mean"]]))
O3_01 <- mean(data_01[["O3 Mean"]])
SO2_01 <- mean(data_01[["SO2 Mean"]])
CO_01 <- mean(data_01[["CO Mean"]])

data_02 <- subset(data, format(as.Date(Date),"%Y") == 2002)
NO2_02 <- (mean(data_02[["NO2 Mean"]]))
O3_02 <- mean(data_02[["O3 Mean"]])
SO2_02 <- mean(data_02[["SO2 Mean"]])
CO_02 <- mean(data_02[["CO Mean"]])

data_03 <- subset(data, format(as.Date(Date),"%Y") == 2003)
NO2_03 <- (mean(data_03[["NO2 Mean"]]))
O3_03 <- mean(data_03[["O3 Mean"]])
SO2_03 <- mean(data_03[["SO2 Mean"]])
CO_03 <- mean(data_03[["CO Mean"]])

data_04 <- subset(data, format(as.Date(Date),"%Y") == 2004)
NO2_04 <- (mean(data_04[["NO2 Mean"]]))
O3_04 <- mean(data_04[["O3 Mean"]])
SO2_04 <- mean(data_04[["SO2 Mean"]])
CO_04 <- mean(data_04[["CO Mean"]])

data_05 <- subset(data, format(as.Date(Date),"%Y") == 2005)
NO2_05 <- (mean(data_05[["NO2 Mean"]]))
O3_05 <- mean(data_05[["O3 Mean"]])
SO2_05 <- mean(data_05[["SO2 Mean"]])
CO_05 <- mean(data_05[["CO Mean"]])

data_06 <- subset(data, format(as.Date(Date),"%Y") == 2006)
NO2_06 <- (mean(data_06[["NO2 Mean"]]))
O3_06 <- mean(data_06[["O3 Mean"]])
SO2_06 <- mean(data_06[["SO2 Mean"]])
CO_06 <- mean(data_06[["CO Mean"]])

data_07 <- subset(data, format(as.Date(Date),"%Y") == 2007)
NO2_07 <- (mean(data_07[["NO2 Mean"]]))
O3_07 <- mean(data_07[["O3 Mean"]])
SO2_07 <- mean(data_07[["SO2 Mean"]])
CO_07 <- mean(data_07[["CO Mean"]])

data_08 <- subset(data, format(as.Date(Date),"%Y") == 2008)
NO2_08 <- (mean(data_08[["NO2 Mean"]]))
O3_08 <- mean(data_08[["O3 Mean"]])
SO2_08 <- mean(data_08[["SO2 Mean"]])
CO_08 <- mean(data_08[["CO Mean"]])

data_09 <- subset(data, format(as.Date(Date),"%Y") == 2009)
NO2_09 <- (mean(data_09[["NO2 Mean"]]))
O3_09 <- mean(data_09[["O3 Mean"]])
SO2_09 <- mean(data_09[["SO2 Mean"]])
CO_09 <- mean(data_09[["CO Mean"]])

data_10 <- subset(data, format(as.Date(Date),"%Y") == 2010)
NO2_10 <- (mean(data_10[["NO2 Mean"]]))
O3_10 <- mean(data_10[["O3 Mean"]])
SO2_10 <- mean(data_10[["SO2 Mean"]])
CO_10 <- mean(data_10[["CO Mean"]])

data_11 <- subset(data, format(as.Date(Date),"%Y") == 2011)
NO2_11 <- (mean(data_11[["NO2 Mean"]]))
O3_11 <- mean(data_11[["O3 Mean"]])
SO2_11 <- mean(data_11[["SO2 Mean"]])
CO_11 <- mean(data_11[["CO Mean"]])

data_12 <- subset(data, format(as.Date(Date),"%Y") == 2012)
NO2_12 <- (mean(data_12[["NO2 Mean"]]))
O3_12 <- mean(data_12[["O3 Mean"]])
SO2_12 <- mean(data_12[["SO2 Mean"]])
CO_12 <- mean(data_12[["CO Mean"]])

data_13 <- subset(data, format(as.Date(Date),"%Y") == 2013)
NO2_13 <- (mean(data_13[["NO2 Mean"]]))
O3_13 <- mean(data_13[["O3 Mean"]])
SO2_13 <- mean(data_13[["SO2 Mean"]])
CO_13 <- mean(data_13[["CO Mean"]])

data_14 <- subset(data, format(as.Date(Date),"%Y") == 2014)
NO2_14 <- (mean(data_14[["NO2 Mean"]]))
O3_14 <- mean(data_14[["O3 Mean"]])
SO2_14 <- mean(data_14[["SO2 Mean"]])
CO_14 <- mean(data_14[["CO Mean"]])

data_15 <- subset(data, format(as.Date(Date),"%Y") == 2015)
NO2_15 <- (mean(data_15[["NO2 Mean"]]))
O3_15 <- mean(data_15[["O3 Mean"]])
SO2_15 <- mean(data_15[["SO2 Mean"]])
CO_15 <- mean(data_15[["CO Mean"]])

data_16 <- subset(data, format(as.Date(Date),"%Y") == 2016)
NO2_16 <- (mean(data_16[["NO2 Mean"]]))
O3_16 <- mean(data_16[["O3 Mean"]])
SO2_16 <- mean(data_16[["SO2 Mean"]])
CO_16 <- mean(data_16[["CO Mean"]])

NO2 <- c(NO2_00, NO2_01, NO2_02, NO2_03, NO2_04, NO2_05, NO2_06, NO2_07, NO2_08, NO2_09, NO2_10, NO2_11, NO2_12, NO2_13, NO2_14, NO2_15, NO2_16)
O3 <- c(O3_00, O3_01, O3_02, O3_03, O3_04, O3_05, O3_06, O3_07, O3_08, O3_09, O3_10, O3_11, O3_12, O3_13, O3_14, O3_15, O3_16)
SO2 <- c(SO2_00, SO2_01, SO2_02, SO2_03, SO2_04, SO2_05, SO2_06, SO2_07, SO2_08, SO2_09, SO2_10, SO2_11, SO2_12, SO2_13, SO2_14, SO2_15, SO2_16)
CO <- c(CO_00, CO_01, CO_02, CO_03, CO_04, CO_05, CO_06, CO_07, CO_08, CO_09, CO_10, CO_11, CO_12, CO_13, CO_14, CO_15, CO_16)
Year <- c("2000", "2001", "2002", "2003", "2004", "2005", "2006", "2007", "2008", "2009", "2010", "2011", "2012", "2013", "2014", "2015", "2016")
table <- data.table(Year, NO2, O3, SO2, CO)
View(table)